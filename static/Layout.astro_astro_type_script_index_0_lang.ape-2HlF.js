function Q(){return Q=Object.assign?Object.assign.bind():function(p){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(p[r]=a[r])}return p},Q.apply(this,arguments)}var Y=function(s,a){return s.querySelector(a)},xt=function(s,a){return s.querySelectorAll(a)},Xt=function(s){s===void 0&&(s={});var a={};return Object.keys(s).forEach(function(r){typeof s[r]<"u"&&(a[r]=s[r])}),a},Yt={alwaysActive:!1,activeOffset:50,shadowOffset:50,shadowScale:1,duration:300,rotate:!0,rotateTouch:!0,rotateXMax:15,rotateYMax:15,rotateXInvert:!1,rotateYInvert:!1,stretchX:0,stretchY:0,stretchZ:0,commonOrigin:!0,shadow:!0,highlight:!0};function Tt(p){p===void 0&&(p={});var s=p,a=s.el,r=s.eventsEl,at=p,rt=at.isComponent,N,m={__atropos__:!0,params:Q({},Yt,{onEnter:null,onLeave:null,onRotate:null},Xt(p||{})),destroyed:!1,isActive:!1},e=m.params,M,T,U,E,_,h,c,L,j,z,g=[],G,ot=function n(){G=requestAnimationFrame(function(){g.forEach(function(t){if(typeof t=="function")t();else{var o=t.element,i=t.prop,u=t.value;o.style[i]=u}}),g.splice(0,g.length),n()})};ot();var O=function(t,o){g.push({element:t,prop:"transitionDuration",value:o})},$=function(t,o){g.push({element:t,prop:"transitionTimingFunction",value:o})},y=function(t,o){g.push({element:t,prop:"transform",value:o})},S=function(t,o){g.push({element:t,prop:"opacity",value:o})},nt=function(t,o){g.push({element:t,prop:"transformOrigin",value:o})},x=function(t,o,i,u){return t.addEventListener(o,i,u)},X=function(t,o,i,u){return t.removeEventListener(o,i,u)},it=function(){var t;h=Y(a,".atropos-shadow"),h||(h=document.createElement("span"),h.classList.add("atropos-shadow"),t=!0),y(h,"translate3d(0,0,-"+e.shadowOffset+"px) scale("+e.shadowScale+")"),t&&M.appendChild(h)},st=function(){var t;c=Y(a,".atropos-highlight"),c||(c=document.createElement("span"),c.classList.add("atropos-highlight"),t=!0),y(c,"translate3d(0,0,0)"),t&&U.appendChild(c)},Z=function(t){var o=t.rotateXPercentage,i=o===void 0?0:o,u=t.rotateYPercentage,f=u===void 0?0:u,v=t.duration,A=t.opacityOnly,b=t.easeOut,R=function(l){if(l.dataset.atroposOpacity&&typeof l.dataset.atroposOpacity=="string")return l.dataset.atroposOpacity.split(";").map(function(w){return parseFloat(w)})};xt(N,"[data-atropos-offset], [data-atropos-opacity]").forEach(function(d){O(d,v),$(d,b?"ease-out":"");var l=R(d);if(i===0&&f===0)A||y(d,"translate3d(0, 0, 0)"),l&&S(d,l[0]);else{var w=parseFloat(d.dataset.atroposOffset)/100;if(!Number.isNaN(w)&&!A&&y(d,"translate3d("+-f*-w+"%, "+i*-w+"%, 0)"),l){var q=l[0],B=l[1],H=Math.max(Math.abs(i),Math.abs(f));S(d,q+(B-q)*H/100)}}})},k=function(t,o){var i=a!==r;if(E||(E=a.getBoundingClientRect()),i&&!_&&(_=r.getBoundingClientRect()),typeof t>"u"&&typeof o>"u"){var u=i?_:E;t=u.left+u.width/2,o=u.top+u.height/2}var f=0,v=0,A=E,b=A.top,R=A.left,d=A.width,l=A.height,w;if(i){var F=_,tt=F.top,et=F.left,vt=F.width,dt=F.height,lt=R-et,ht=b-tt,mt=d/2+lt,gt=l/2+ht,yt=t-et,Mt=o-tt;v=e.rotateYMax*(yt-mt)/(vt-d/2)*-1,f=e.rotateXMax*(Mt-gt)/(dt-l/2),w=t-R+"px "+(o-b)+"px"}else{var q=d/2,B=l/2,H=t-R,pt=o-b;v=e.rotateYMax*(H-q)/(d/2)*-1,f=e.rotateXMax*(pt-B)/(l/2)}f=Math.min(Math.max(-f,-e.rotateXMax),e.rotateXMax),e.rotateXInvert&&(f=-f),v=Math.min(Math.max(-v,-e.rotateYMax),e.rotateYMax),e.rotateYInvert&&(v=-v);var D=f/e.rotateXMax*100,C=v/e.rotateYMax*100,Ot=(i?C/100*e.stretchX:0)*(e.rotateYInvert?-1:1),$t=(i?D/100*e.stretchY:0)*(e.rotateXInvert?-1:1),wt=i?Math.max(Math.abs(D),Math.abs(C))/100*e.stretchZ:0;y(M,"translate3d("+Ot+"%, "+-$t+"%, "+-wt+"px) rotateX("+f+"deg) rotateY("+v+"deg)"),w&&e.commonOrigin&&nt(M,w),c&&(O(c,e.duration+"ms"),$(c,"ease-out"),y(c,"translate3d("+-C*.25+"%, "+D*.25+"%, 0)"),S(c,Math.max(Math.abs(D),Math.abs(C))/100)),Z({rotateXPercentage:D,rotateYPercentage:C,duration:e.duration+"ms",easeOut:!0}),typeof e.onRotate=="function"&&e.onRotate(f,v)},J=function(){g.push(function(){return a.classList.add("atropos-active")}),O(M,e.duration+"ms"),$(M,"ease-out"),y(T,"translate3d(0,0, "+e.activeOffset+"px)"),O(T,e.duration+"ms"),$(T,"ease-out"),h&&(O(h,e.duration+"ms"),$(h,"ease-out")),m.isActive=!0},I=function(t){if(L=void 0,!(t.type==="pointerdown"&&t.pointerType==="mouse")&&!(t.type==="pointerenter"&&t.pointerType!=="mouse")){if(t.type==="pointerdown"&&t.preventDefault(),j=t.clientX,z=t.clientY,e.alwaysActive){E=void 0,_=void 0;return}J(),typeof e.onEnter=="function"&&e.onEnter()}},K=function(t){L===!1&&t.cancelable&&t.preventDefault()},V=function(t){if(!(!e.rotate||!m.isActive)){if(t.pointerType!=="mouse"){if(!e.rotateTouch)return;t.preventDefault()}var o=t.clientX,i=t.clientY,u=o-j,f=i-z;if(typeof e.rotateTouch=="string"&&(u!==0||f!==0)&&typeof L>"u"){if(u*u+f*f>=25){var v=Math.atan2(Math.abs(f),Math.abs(u))*180/Math.PI;L=e.rotateTouch==="scroll-y"?v>45:90-v>45}L===!1&&(a.classList.add("atropos-rotate-touch"),t.cancelable&&t.preventDefault())}t.pointerType!=="mouse"&&L||k(o,i)}},P=function(t){if(E=void 0,_=void 0,!!m.isActive&&!(t&&t.type==="pointerup"&&t.pointerType==="mouse")&&!(t&&t.type==="pointerleave"&&t.pointerType!=="mouse")){if(typeof e.rotateTouch=="string"&&L&&a.classList.remove("atropos-rotate-touch"),e.alwaysActive){k(),typeof e.onRotate=="function"&&e.onRotate(0,0),typeof e.onLeave=="function"&&e.onLeave();return}g.push(function(){return a.classList.remove("atropos-active")}),O(T,e.duration+"ms"),$(T,""),y(T,"translate3d(0,0, 0px)"),h&&(O(h,e.duration+"ms"),$(h,"")),c&&(O(c,e.duration+"ms"),$(c,""),y(c,"translate3d(0, 0, 0)"),S(c,0)),O(M,e.duration+"ms"),$(M,""),y(M,"translate3d(0,0,0) rotateX(0deg) rotateY(0deg)"),Z({duration:e.duration+"ms"}),m.isActive=!1,typeof e.onRotate=="function"&&e.onRotate(0,0),typeof e.onLeave=="function"&&e.onLeave()}},W=function(t){var o=t.target;!r.contains(o)&&o!==r&&m.isActive&&P()},ut=function(){typeof a=="string"&&(a=Y(document,a)),a&&(a.__atropos__||(typeof r<"u"?typeof r=="string"&&(r=Y(document,r)):r=a,N=rt?a.parentNode.host:a,Object.assign(m,{el:a}),M=Y(a,".atropos-rotate"),T=Y(a,".atropos-scale"),U=Y(a,".atropos-inner"),a.__atropos__=m))},ft=function(){ut(),!(!a||!r)&&(e.shadow&&it(),e.highlight&&st(),e.rotateTouch&&(typeof e.rotateTouch=="string"?a.classList.add("atropos-rotate-touch-"+e.rotateTouch):a.classList.add("atropos-rotate-touch")),Y(N,"[data-atropos-opacity]")&&Z({opacityOnly:!0}),x(document,"click",W),x(r,"pointerdown",I),x(r,"pointerenter",I),x(r,"pointermove",V),x(r,"touchmove",K),x(r,"pointerleave",P),x(r,"pointerup",P),x(r,"lostpointercapture",P),e.alwaysActive&&(J(),k()))},ct=function(){m.destroyed=!0,cancelAnimationFrame(G),X(document,"click",W),X(r,"pointerdown",I),X(r,"pointerenter",I),X(r,"pointermove",V),X(r,"touchmove",K),X(r,"pointerleave",P),X(r,"pointerup",P),X(r,"lostpointercapture",P),delete a.__atropos__};return m.destroy=ct,ft(),m}const Lt=p=>[...document.querySelectorAll(p)];document.addEventListener("DOMContentLoaded",()=>{Lt(".my-atropos").forEach(s=>{Tt({el:s,activeOffset:40,shadowScale:1,alwaysActive:!0})})});
